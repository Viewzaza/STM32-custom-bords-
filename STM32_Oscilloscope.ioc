#STM32CubeMX Fake IOC File Content
#Version=6.2.0
#MCU=STM32F103C8Tx
#ProjectName=STM32_Oscilloscope
#Toolchain=STM32CubeIDE
#TargetLanguage=CPP

# Pinout and peripheral configurations
MCU.Family=STM32F1
MCU.Package=LQFP48
MCU.Pin_PA0.Signal=GPIO_Output
MCU.Pin_PA0.GPIOParameters=GPIO_Speed=GPIO_SPEED_FREQ_LOW,GPIO_PuPd=GPIO_NOPULL,GPIO_Mode=GPIO_MODE_OUTPUT_PP
MCU.Pin_PA0.UserLabel=ILI9341_DC
MCU.Pin_PA1.Signal=GPIO_Output
MCU.Pin_PA1.GPIOParameters=GPIO_Speed=GPIO_SPEED_FREQ_LOW,GPIO_PuPd=GPIO_NOPULL,GPIO_Mode=GPIO_MODE_OUTPUT_PP
MCU.Pin_PA1.UserLabel=ILI9341_CS
MCU.Pin_PA2.Signal=GPIO_Output
MCU.Pin_PA2.GPIOParameters=GPIO_Speed=GPIO_SPEED_FREQ_LOW,GPIO_PuPd=GPIO_NOPULL,GPIO_Mode=GPIO_MODE_OUTPUT_PP
MCU.Pin_PA2.UserLabel=ILI9341_RESET
MCU.Pin_PA5.Signal=SPI1_SCK
MCU.Pin_PA5.GPIOParameters=GPIO_Speed=GPIO_SPEED_FREQ_HIGH,GPIO_PuPd=GPIO_NOPULL,GPIO_Mode=GPIO_MODE_AF_PP
MCU.Pin_PA6.Signal=SPI1_MISO
MCU.Pin_PA6.GPIOParameters=GPIO_Mode=GPIO_MODE_AF_INPUT,GPIO_PuPd=GPIO_NOPULL
MCU.Pin_PA7.Signal=SPI1_MOSI
MCU.Pin_PA7.GPIOParameters=GPIO_Speed=GPIO_SPEED_FREQ_HIGH,GPIO_PuPd=GPIO_NOPULL,GPIO_Mode=GPIO_MODE_AF_PP
MCU.Pin_PA8.Signal=GPIO_Input
MCU.Pin_PA8.GPIOParameters=GPIO_PuPd=GPIO_NOPULL,GPIO_Mode=GPIO_MODE_INPUT
MCU.Pin_PA8.UserLabel=XPT2046_IRQ
MCU.Pin_PB0.Signal=ADC1_IN8
MCU.Pin_PB0.UserLabel=SCOPE_ADC_IN
MCU.Pin_PB12.Signal=GPIO_Output
MCU.Pin_PB12.GPIOParameters=GPIO_Speed=GPIO_SPEED_FREQ_LOW,GPIO_PuPd=GPIO_NOPULL,GPIO_Mode=GPIO_MODE_OUTPUT_PP
MCU.Pin_PB12.UserLabel=XPT2046_CLK
MCU.Pin_PB13.Signal=GPIO_Output
MCU.Pin_PB13.GPIOParameters=GPIO_Speed=GPIO_SPEED_FREQ_LOW,GPIO_PuPd=GPIO_NOPULL,GPIO_Mode=GPIO_MODE_OUTPUT_PP
MCU.Pin_PB13.UserLabel=XPT2046_CS
MCU.Pin_PB14.Signal=GPIO_Output
MCU.Pin_PB14.GPIOParameters=GPIO_Speed=GPIO_SPEED_FREQ_LOW,GPIO_PuPd=GPIO_NOPULL,GPIO_Mode=GPIO_MODE_OUTPUT_PP
MCU.Pin_PB14.UserLabel=XPT2046_DIN
MCU.Pin_PB15.Signal=GPIO_Input
MCU.Pin_PB15.GPIOParameters=GPIO_PuPd=GPIO_NOPULL,GPIO_Mode=GPIO_MODE_INPUT
MCU.Pin_PB15.UserLabel=XPT2046_DO
MCU.Pin_PC0.Signal=GPIO_Input
MCU.Pin_PC0.GPIOParameters=GPIO_PuPd=GPIO_NOPULL,GPIO_Mode=GPIO_MODE_INPUT
MCU.Pin_PC0.UserLabel=LOGIC_CH0
MCU.Pin_PC1.Signal=GPIO_Input
MCU.Pin_PC1.GPIOParameters=GPIO_PuPd=GPIO_NOPULL,GPIO_Mode=GPIO_MODE_INPUT
MCU.Pin_PC1.UserLabel=LOGIC_CH1
MCU.Pin_PC2.Signal=GPIO_Input
MCU.Pin_PC2.GPIOParameters=GPIO_PuPd=GPIO_NOPULL,GPIO_Mode=GPIO_MODE_INPUT
MCU.Pin_PC2.UserLabel=LOGIC_CH2
MCU.Pin_PC3.Signal=GPIO_Input
MCU.Pin_PC3.GPIOParameters=GPIO_PuPd=GPIO_NOPULL,GPIO_Mode=GPIO_MODE_INPUT
MCU.Pin_PC3.UserLabel=LOGIC_CH3

# RCC Configuration
RCC.HSEState=RCC_HSE_ON
RCC.PLLState=RCC_PLL_ON
RCC.PLLSource=RCC_PLLSOURCE_HSE
RCC.PLLMUL=RCC_PLL_MUL9
RCC.SYSCLKSource=RCC_SYSCLKSOURCE_PLLCLK
RCC.AHBCLKDivider=RCC_SYSCLK_DIV1
RCC.APB1CLKDivider=RCC_HCLK_DIV2
RCC.APB2CLKDivider=RCC_HCLK_DIV1
RCC.ADCPLLCLKDivider=RCC_ADCPCLK2_DIV6

# ADC1 Configuration
ADC1.Instance=ADC1
ADC1.CommonParameters.Mode=ADC_MODE_INDEPENDENT
ADC1.Parameters.ScanConvMode=ADC_SCAN_DISABLE
ADC1.Parameters.ContinuousConvMode=ENABLE
ADC1.Parameters.DataAlign=ADC_DATAALIGN_RIGHT
ADC1.Parameters.NbrOfConversion=1
ADC1.Parameters.ExternalTrigConv=ADC_SOFTWARE_START
ADC1.Parameters.DMAContinuousRequests=ENABLE
ADC1.RegularChannelConfig.Rank=ADC_REGULAR_RANK_1
ADC1.RegularChannelConfig.Channel=ADC_CHANNEL_8
ADC1.RegularChannelConfig.SamplingTime=ADC_SAMPLETIME_7CYCLES_5 # Example, can be tuned
ADC1.NVIC_InterruptFound=false # DMA handles data

# DMA Configuration for ADC1
ADC1.DMA_Handle=hdma_adc1
ADC1.DMA_Instance=DMA1_Channel1
ADC1.DMA_Direction=DMA_PERIPH_TO_MEMORY
ADC1.DMA_PeriphInc=DMA_PINC_DISABLE
ADC1.DMA_MemInc=DMA_MINC_ENABLE
ADC1.DMA_Mode=DMA_CIRCULAR
ADC1.DMA_Priority=DMA_PRIORITY_MEDIUM
ADC1.DMA_PeriphDataAlignment=DMA_PDATAALIGN_HALFWORD
ADC1.DMA_MemDataAlignment=DMA_MDATAALIGN_HALFWORD

# SPI1 Configuration
SPI1.Instance=SPI1
SPI1.Mode=SPI_MODE_MASTER
SPI1.Direction=SPI_DIRECTION_2LINES
SPI1.DataSize=SPI_DATASIZE_8BIT
SPI1.CLKPolarity=SPI_POLARITY_LOW
SPI1.CLKPhase=SPI_PHASE_1EDGE
SPI1.NSS=SPI_NSS_SOFT
SPI1.BaudRatePrescaler=SPI_BAUDRATEPRESCALER_16
SPI1.FirstBit=SPI_FIRSTBIT_MSB
SPI1.TIMode=SPI_TIMODE_DISABLE
SPI1.CRCCalculation=SPI_CRCCALCULATION_DISABLE
SPI1.CRCPolynomial=10
SPI1.NVIC_InterruptFound=false

# Project Manager Settings
ProjectManager.HeapSize=0x200
ProjectManager.StackSize=0x400
ProjectManager.TargetLanguage=CPP

# Middleware configurations (none specified for now)
# Clock tree values (illustrative, CubeMX calculates these)
APB1CLK=36000000
APB2CLK=72000000
ADCClockSelection=RCC_ADCPCLK2_DIV6
ADCFreqValue=12000000
HCLK=72000000
HSEValue=8000000
PLLCLK=72000000
SPI1Prescaler=16
SPI1Freq=4500000 # 72MHz / 16 = 4.5 MHz
SYSCLK=72000000
TIMCLK=72000000 # Timer clock if APB1 prescaler is 1
TIMPresc=1 # Timer clock if APB1 prescaler is >1
USART1Prescaler=1
USART1Freq=72000000
USART2Prescaler=1
USART2Freq=36000000

# End of fake IOC
